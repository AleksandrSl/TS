{% load humanize %}
{% load ion_readable %}

<div id="alignment" class="span3 well centered">
    <div class="number-chunk">
        {% if alignment %}
            <h2>{{ alignment.Filtered_Mapped_Bases_in_Q17_Alignments|ion_readable }}</h2>
        {% else %}
            <h2>Still calculating.</h2>
        {% endif %}
        <small>AQ17 Total Bases</small>
    </div>    

    
         <h2>Alignment Summary</h2>
   

            <table id="alignment" class="heading">
              <col width='325px' />
              <col width='173px' />
              <col width='173px' />
              <col width='173px' />

            <thead><tr><th> </th>
            <th>AQ17</th>
            <th>AQ20</th>
            <th>Perfect</th>
            </tr></thead><tbody>

            <tr>
            <th>Total Number of Bases [bp]</th>
            <td> {{ alignment.Filtered_Mapped_Bases_in_Q17_Alignments|ion_readable }} </td>
            <td> {{ alignment.Filtered_Mapped_Bases_in_Q20_Alignments|ion_readable }} </td>
            <td> {{ alignment.Filtered_Mapped_Bases_in_Q47_Alignments|ion_readable }} </td>
            </tr>

            <tr>
            <th>Mean Length [bp]</th>
            <td> {{ alignment.Filtered_Q17_Mean_Alignment_Length }} </td>
            <td> {{ alignment.Filtered_Q20_Mean_Alignment_Length }} </td>
            <td> {{ alignment.Filtered_Q47_Mean_Alignment_Length }} </td>
            </tr>

            <tr>
            <th>Longest Alignment [bp]</th>
            <td> {{ alignment.Filtered_Q17_Longest_Alignment }} </td>
            <td> {{ alignment.Filtered_Q20_Longest_Alignment }} </td>
            <td> {{ alignment.Filtered_Q47_Longest_Alignment }} </td>
            </tr>

            <tr>
            <th>Mean Coverage Depth</th>
            <td> {{ alignment.Filtered_Q17_Mean_Coverage_Depth }} </td>
            <td> {{ alignment.Filtered_Q20_Mean_Coverage_Depth }} </td>
            <td> {{ alignment.Filtered_Q47_Mean_Coverage_Depth }} </td>
            </tr>

            </tbody>
            </table>


</div>
<script>
$(function(){
    $("#usable_sequence").strength('{{usable_sequence}}',
                        '{{usable_sequence_threshold}}',
                        '{{usable_sequence}}',
                        'Usable Sequence');
});
</script>
