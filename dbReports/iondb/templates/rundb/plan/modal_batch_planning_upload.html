{% load url from future %}

<div id="modal_batch_planning_upload" title="" class="modal modal-900 hide">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3 id="modal_batch_plan_title">Upload Plan Runs</h3>
    </div>
    <div class="modal-body">
        <div id="modal-error-messages" class="alert alert-error hide"></div>
        <form class="form-horizontal" id="modalBatchPlanningUpload" method="POST" action="{% url "save_uploaded_plans_for_template" %}" enctype="multipart/form-data">
            <fieldset>
                <div class="control-group">
                    <label for="postedfile" class="control-label">CSV File for Plans</label>
                    <div class="controls">
                        <input type="file" id="postedfile" name="postedfile" class="input-xxlarge input-file required">
                        <p class="help-block error"></p>
                        <p class="help-block">
                            <br>
                            One row for each plan.
                            <br>
                            Tips:
                            <ul>
                            <li>Plan values not included in the CSV file will default to values of the template you are planning from.
                            </li>
                            <li>To associate a Plan with multiple Plugins or Projects, <ul><li>use ";" as the separator</li>
                            <li>Example: My Project1; My Project2</li></ul>
                            </li>
                            <li>To specify both sample name and sample ID during barcoded planning, <ul><li>use ";" as the separator and "ID:" as the sample ID key</li>
                            <li>Example: sample 1;ID:ext 1</li></ul>
                            </li>
                            <li>For DNA and Fusions barcoded planning, <ul><li>use ";" as the separator, "TYPE:" as the Nucleotide Type key, and "RNA REF:" as the RNA reference key</li>
                            <li>Example: sample 1;ID:ext 1;TYPE:DNA</li>
                            <li>Example: sample 1;ID:ext 1;TYPE:RNA;RNA REF:hg19_RNA</li>
                            </ul>
                            </li>
                            </ul>
                        </p>
                    </div>
                </div>
            </fieldset>
        </form>

        <div class="bump">
            <div id="loadingstatus"></div>
            <div id="return"></div>
            <div id="error"></div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="btn" href="#" data-dismiss="modal">Cancel</a>
        <a href="#" id="submitUpload" class="btn btn-primary submitUpload" >Upload CSV for batch planning</a>
    </div>
</div>

<script type="text/javascript">
TB.plan.batchupload.ready("{% url "planned" %}");</script>
</div>

