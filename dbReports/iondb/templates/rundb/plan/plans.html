{% extends "rundb/plan/base.html" %}
{% load url from future %}
{% load static from staticfiles %}
{% block extra_head %}
<link type="text/css" rel="stylesheet" media="all" href="{% static "resources/styles/wizard.css"%}" />
<script type="text/javascript" src="{% static "resources/scripts/wizard.min.js"%}"></script>

<link type="text/css" rel="stylesheet" media="all" href="{% static "resources/jquery-ui-1.9.2.custom/css/smoothness/jquery-ui-1.9.2.custom.min.css"%}" />
<script type="text/javascript" src="{% static "resources/jquery-ui-1.9.2.custom/js/jquery-ui-1.9.2.custom.min.js"%}"></script>

<script type="text/javascript" src="{% static "jquery/js/apprise/apprise-1.5.min.js"%}"></script>
<link rel="stylesheet" href="{% static "jquery/js/apprise/apprise.css"%}" type="text/css"/>

<script src="{% static "resources/jquery/jQuery.download.min.js"%}"></script>
<script type="text/javascript" src="{% static "jquery/js/jquery.form.js"%}"></script> <!-- for ajaxForm -->
<script type="text/javascript" src="{% static "resources/uni-form/js/uni-form-validation.jquery.js"%}"></script> <!-- Using updated uni-form JS -->

<style>
.k-grid table {
    table-layout: auto;
}
</style>
{% endblock extra_head %}
{% block content %}
<div class="content group">
    <div class="row-fluid">
        <h1>Templates</h1>
        <br>
        <table class="favorites_recent plan-grid">
            <tr>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/star-blue.png"%}" class="favorite_star" border="0" width='37px;'>
                        <h3>Favorites&nbsp;&nbsp;|<a href="{% url "upload_plans_for_template" %}" class="upload-plan" rel="tooltip" title="Upload plan runs" >Upload Plans</a></h3>
                    </div>
                    <table id="favorites" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td width="2%">&nbsp;</td>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/recentlyused.png"%}" border="0" width="37px;">
                        <h3>Recently Used</h3>
                    </div>
                    <table id="recents" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </table>

        <table class="dna_applications plan-grid">
            <tr>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/appl_ampliSeq.png"%}" border="0">
                        <h3>Ampliseq DNA&nbsp;&nbsp;| <div class="btn-group"><a title="Import template from from AmpliSeq.com" class="btn dropdown-toggle" href="#" id="ampliseq_import_dropdown_toggle" data-toggle="dropdown">AmpliSeq.com <i class="icon-download"></i>  <span class="caret"></span></a>                         
                            <ul class="dropdown-menu">
                                <li><a href="{% url "configure_ampliseq" "DNA" %}">AmpliSeq DNA</a></li>
                                <li><a href="{% url "configure_ampliseq" "exome" %}">AmpliSeq Exome</a></li>
                            </ul>                           
                            </div>  |  <a href="{% url "page_plan_new_template" 1 %}" ref="#ampliSeqs" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 1 %}" ref="#ampliSeqs" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                    </div>
                    <table id="ampliSeqs" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td width="2%">&nbsp;</td>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/appl_wholeGenome.png"%}" border="0">
                        <h3>Whole-Genome Seq &nbsp;&nbsp;| <a href="{% url "page_plan_new_template" 3 %}" ref="#wholeGenomes" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 3 %}" ref="#wholeGenomes" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                    </div>
                    <table id="wholeGenomes" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/appl_targetSeq.png"%}" border="0">
                        <h3>TargetSeq &nbsp;&nbsp;| <a href="{% url "page_plan_new_template" 2 %}" ref="#targetSeqs" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 2 %}" ref="#targetSeqs" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                    </div>
                    <table id="targetSeqs" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>

                </td>
                <td width="2%">&nbsp;</td>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/appl_metagenomics.png"%}" border="0">
                        <h3>16S Target Sequencing &nbsp;&nbsp;| <a href="{% url "page_plan_new_template" 7 %}" ref="#16sTargetSeq" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 7 %}" ref="#16sTargetSeq" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                    </div>
                    <table id="16sTargetSeq" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
            <td width="49%">
            </td>
            <td width="2%">&nbsp;</td>
            <td width="49%">
                <div class="application-template group">
                    <img src="{% static "resources/img/appl_wildcard.png"%}" border="0">
                    <h3>Generic Sequencing (Other)&nbsp;&nbsp;| <a href="{% url "page_plan_new_template" 0 %}" ref="#genericSeqs" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 0 %}" ref="#genericSeqs" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                </div>
                <table id="genericSeqs" style="width:100%;">
                    <thead style="display: none;">
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="2"></td>
                        </tr>
                    </tbody>
                </table>
            </td>
            </tr>            
        </table>

        <table class="plan-grid">
            <tr>
                <td width="49%">
                    <div class="application-template group">
                        <img src="{% static "resources/img/appl_ampliSeqRna.png"%}" border="0">
                        <h3>AmpliSeq RNA&nbsp;&nbsp; | <a href="{% url "configure_ampliseq" "RNA" %}">AmpliSeq.com Import</a> | <a href="{% url "page_plan_new_template" 5 %}" ref="#ampliSeqRNA" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 5 %}" ref="#ampliSeqsRna" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                    </div>
                    <table id="ampliSeqRna" style="width:100%;">
                        <thead style="display: none;">
                            <tr>
                                <td></td>
                                <td></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
               <td width="2%">&nbsp;</td>
               <td width="49%">
                <div class="application-template group">
                    <img src="{% static "resources/img/appl_rnaSeq.png"%}" border="0">
                    <h3>RNA Seq &nbsp;&nbsp;| <a href="{% url "page_plan_new_template" 4 %}" ref="#rnaSeqs" rel="tooltip" title="Create new template for run planning">Add New Template</a> | <a href="{% url "page_plan_new_plan_from_code" 4 %}" ref="#rnaSeqs" rel="tooltip" title="Plan runs from this template">Plan New Run</a></h3>
                </div>
                <table id="rnaSeqs" style="width:100%;">
                    <thead style="display: none;">
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="2"></td>
                        </tr>
                    </tbody>
                </table>
               </td>
            </tr>
        </table>
    </div>
</div>

<script id="emptyRowTemplate" type="text/x-kendo-template">
    <tr>
        <td colspan="2">
            #= msg#
        </td>
    </tr>
</script>
<script id="rowTemplate" type="text/x-kendo-template">
    <tr>
        <td>
            #= planDisplayedName #
        </td>
        <td class="actions">
            # var _id = id;#
            # if (isSystem) { #
                <span><a href="#= '{% url "review_plan" 999999 %}'.replace('999999', _id)#" class="review-plan">Review</a> | <a href="#= '{% url "page_plan_new_plan" 0 %}'.replace('0', _id)#">Plan Run</a> | <a class="batch-plan" href="#= '{% url "batch_plans_from_template" 0 %}'.replace('0', _id)#">Plan Multiple</a> | <a href="#= '{% url "page_plan_copy_template" 0 %}'.replace('0',_id)#">Copy</a></span>
            # }  else { #
                <span><a href="#= '{% url "review_plan" 999999 %}'.replace('999999', _id)#" class="review-plan">Review</a> | <a href="#= '{% url "page_plan_new_plan" 0 %}'.replace('0', _id)#">Plan Run</a> | <a class="batch-plan" href="#= '{% url "batch_plans_from_template" 0 %}'.replace('0', _id)#">Plan Multiple</a> | <a href="#= '{% url "page_plan_copy_template" 0 %}'.replace('0',_id)#">Copy</a> | <a href="#= '{% url "page_plan_edit_template" 0 %}'.replace('0',_id)#">Edit</a> | <a href="#= '{% url "delete_plan_template" 0 %}'.replace('0',_id)#" class="delete-plan">Delete</a></span>
            # } #
        </td>
    </tr>
</script>
<script type="text/javascript">
var username = '{{user.username}}';
</script>
<script type="text/javascript" src="{% static "resources/scripts/plan/plans.html.js"%}"></script>
<script type="text/javascript" src="{% static "resources/scripts/plan/modal_plan_wizard.html.js"%}"></script>
<script type="text/javascript" src="{% static "resources/scripts/plan/modal_batch_planning_upload.js"%}"></script>
<script type="text/javascript" src="{% static "resources/scripts/plan/modal_batch_planning.js"%}"></script>
<script type="text/javascript" src="{% static "resources/scripts/configure/plugins/modal_refresh.js"%}"></script>
{% endblock content %}
